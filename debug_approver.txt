# Debug steps for approver/permission issue:

1. Check if approver column exists in database:
   bench --site mysite.localhost console
   >>> frappe.db.sql("DESCRIBE `tabCustom Timesheet`")
   >>> # Look for 'approver' in the output

2. Check existing timesheet data:
   >>> timesheets = frappe.get_all('Custom Timesheet', fields=['name', 'employee', 'status', 'approver'])
   >>> print(timesheets)
   >>> # Check if approver field has values

3. Check if migration ran:
   >>> frappe.db.has_column('Custom Timesheet', 'approver')
   >>> # Should return True

4. Manually set approver for existing timesheets:
   >>> doc = frappe.get_doc('Custom Timesheet', 'YOUR-TIMESHEET-NAME')
   >>> doc.approver = 'APPROVER-EMPLOYEE-ID'
   >>> doc.save()
   >>> frappe.db.commit()

5. Test permission query:
   >>> from gnapi_customizations.customizations.custom_timesheet_events import custom_timesheet_permission_query
   >>> query = custom_timesheet_permission_query('project.creator@example.com')
   >>> print(query)
